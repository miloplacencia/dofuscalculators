!function(){"use strict";angular.module("DofusExpCalculator",["ngResource","ngRoute","ngTouch"]);var a=angular.module("DofusExpCalculator");a.config(["$routeProvider","$locationProvider",function(a,b){var c={templateUrl:"/views/professions.html",controller:"ProfessionsController"},d={templateUrl:"/views/hunter.html",controller:"HunterController",resolve:{recipes:["HunterFactory",function(a){return a.putRecipes(),a.recipes}]}};a.when("/:lang/profession_calculator",{templateUrl:"/views/professions.html",controller:"ProfessionsController"}).when("/:lang/professions_calculator/",c).when("/:lang/professions_calculator/:profession/:exp/:level",c).when("/:lang/calculadora_oficios/",c).when("/:lang/calculadora_oficios/:profession/:exp/:level",c).when("/:lang/hunter_calculator",d).when("/:lang/hunter_calculator/:calculator",d).when("/:lang/calculadora_cazador",d).when("/:lang/calculadora_cazador/:calculator",d).when("/:lang/ingredients_calculator/:calculator",{templateUrl:"/views/ingredients.html"}).otherwise({redirectTo:"/en/professions_calculator"}),b.html5Mode(!0),b.hashPrefix("!")}]),a.factory("Loader",[function(){return{request:function(a){return NProgress.start(),a},response:function(a){return NProgress.done(),a}}}]),a.config(["$httpProvider",function(a){a.interceptors.push("Loader"),a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}])}(),function(){"use strict";var a=angular.module("DofusExpCalculator");a.service("DbService",["$http","$q",function(a,b){this.gathering={Alchemist:[{gather:"Flax Flower",lvl:1,exp:10},{gather:"Hemp Flower",lvl:10,exp:15},{gather:"Five-Leaf Clover",lvl:20,exp:20},{gather:"Wild Mint Leaf",lvl:30,exp:25},{gather:"Freyesque Orchid",lvl:40,exp:30},{gather:"Edelweiss",lvl:50,exp:35},{gather:"Pandkin Seed",lvl:50,exp:35},{gather:"Snowdrop",lvl:100,exp:60}],Farmer:[{gather:"Wheat",lvl:1,exp:10},{gather:"Barley",lvl:10,exp:15},{gather:"Oats",lvl:20,exp:20},{gather:"Hop",lvl:30,exp:25},{gather:"Flax",lvl:40,exp:30},{gather:"Rye",lvl:50,exp:35},{gather:"Rice",lvl:50,exp:35},{gather:"Malt",lvl:60,exp:40},{gather:"Hemp",lvl:70,exp:45},{gather:"Frosteez",lvl:100,exp:60}],Fisherman:[{gather:"Snapper",lvl:1,exp:10},{gather:"Small River Fish",lvl:1,exp:10},{gather:"Small Sea Fish",lvl:1,exp:10},{gather:"River Fish",lvl:10,exp:15},{gather:"Sea Fish",lvl:20,exp:20},{gather:"Large River Fish",lvl:40,exp:30},{gather:"Large Sea Fish",lvl:50,exp:35},{gather:"Giant River Fish",lvl:70,exp:45},{gather:"Giant Sea Fish",lvl:80,exp:50},{gather:"Frigost Fish",lvl:100,exp:60}],Lumberjack:[{gather:"Ash Wood",lvl:1,exp:10},{gather:"Chestnut Wood",lvl:10,exp:15},{gather:"Walnut Wood",lvl:20,exp:20},{gather:"Oak Wood",lvl:30,exp:25},{gather:"Oliviolet Wood",lvl:35,exp:27},{gather:"Bombu Wood",lvl:35,exp:27},{gather:"Maple Wood",lvl:40,exp:30},{gather:"Yew Wood",lvl:50,exp:35},{gather:"Bamboo Wood",lvl:50,exp:35},{gather:"Cherry Wood",lvl:60,exp:40},{gather:"Ebony Wood",lvl:70,exp:45},{gather:"Kaliptus Wood",lvl:75,exp:47},{gather:"Hornbeam Wood",lvl:80,exp:50},{gather:"Dark Bamboo Wood",lvl:80,exp:50},{gather:"Elm Wood",lvl:90,exp:55},{gather:"Aspen Wood",lvl:100,exp:60},{gather:"Holy Bamboo Wood",lvl:100,exp:60}],Miner:[{gather:"Iron",lvl:1,exp:10},{gather:"Copper",lvl:10,exp:15},{gather:"Bronze",lvl:20,exp:20},{gather:"Cobalt",lvl:30,exp:25},{gather:"Manganese",lvl:40,exp:30},{gather:"Tin",lvl:50,exp:35},{gather:"Silicate",lvl:50,exp:35},{gather:"Silver",lvl:60,exp:40},{gather:"Bauxite",lvl:70,exp:45},{gather:"Gold",lvl:80,exp:50},{gather:"Dolomite",lvl:100,exp:60},{gather:"Obsidian",lvl:100,exp:60}]},this.Professions=["Hunter","Alchemist","Artificer","Carver","Farmer","Fisherman","Handyman","Jeweller","Lumberjack","Miner","Shoemaker","Smith","Tailor"],this.ProfessionsI18N={Cazador:"Hunter",Alquimista:"Alchemist",Pescador:"Fisherman",Campesino:"Farmer",Minero:"Miner","Leñador":"Lumberjack",Fabricante:"Artificer",Escultor:"Carver",Manitas:"Handyman",Joyero:"Jeweller",Zapatero:"Shoemaker",Forjador:"Smith",Sastre:"Tailor"},this.expLvl=[0,50,140,271,441,653,905,1199,1534,1911,2330,2792,3297,3846,4439,5078,5762,6493,7271,8097,8973,9898,10875,11903,12985,14122,15315,16564,17873,19242,20672,22166,23726,25353,27048,28815,30656,32572,34566,36641,38800,41044,43378,45804,48325,50946,53669,56498,59437,62491,65664,68960,72385,75943,79640,83482,87475,91624,95937,100421,105082,109930,114971,120215,125671,131348,137256,143407,149811,156481,163429,170669,178214,186080,194283,202839,211765,221082,230808,240964,251574,262660,274248,286364,299037,312297,326175,340705,355924,371870,388582,406106,424486,443772,464016,485274,507604,531071,555741,581687],this.expCasilla=[1,10,25,50,100,250,500,1e3],this.unlockLevel=[1,10,20,40,60,80,100],this.gatherCraft={gather:["Alchemist","Farmer","Fisherman","Lumberjack","Miner"],craft:["Artificer","Carver","Handyman","Jeweller","Shoemaker","Smith","Tailor"]},this.i18nProfessions={Alchemist:{en:"Alchemist",es:"Alquimista"},Farmer:{en:"Farmer",es:"Campesino"},Fisherman:{en:"Fisherman",es:"Pescador"},Lumberjack:{en:"Lumberjack",es:"Leñador"},Miner:{en:"Miner",es:"Minero"},Hunter:{en:"Hunter",es:"Cazador"},Jeweller:{en:"Jeweller",es:"Joyero"},Shoemaker:{en:"Shoemaker",es:"Zapatero"},Tailor:{en:"Tailor",es:"Sastre"},Handyman:{en:"Handyman",es:"Manitas"},Carver:{en:"Carver",es:"Escultor"},Smith:{en:"Smith",es:"Forjador"},Artificer:{en:"Artificer",es:"Fabricante"}},this.getGathering=function(c,d){var e="",f=this;this.gathering[c].forEach(function(a,b){e+=0===b?a.gather:"|"+a.gather});var g=b.defer();return a.get("http://dofuscalculatorsnode-milonga.rhcloud.com/api/resources/en/"+e,{cache:!0}).success(function(a){var b={};a.forEach(function(a,c){b[a.name]=a.i18n[d]}),f.gathering[c].forEach(function(a,c){b[a.gather]&&(a.gather=b[a.gather])}),g.resolve(f.gathering[c])}),g.promise}}]),a.service("CalculatorService",["DbService",function(a){this.uselessLevel=function(a){return a>=40&&60>a?[1]:a>=60&&80>a?[1,2]:a>=80&&100>a?[1,2,3]:100===a?[1,2,3,4]:[]},this.isUseless=function(a,b){return b=parseInt(b),a>=40&&60>a?1===b?!0:!1:a>=60&&80>a?1===b||2===b?!0:!1:a>=80&&100>a?1===b||2===b||3===b?!0:!1:100===a&&(1===b||2===b||3===b||4===b)?!0:!1},this.blockedLevel=function(a,b){var c=[1,1,10,20,40,60,80,100];return a<c[parseInt(b-1)]?!0:!1},this.buscarNivel=function(b){for(var c=0;b>=a.expLvl[c]&&b>=0&&581687>=b;)c++;return c},this.experienciaRestante=function(b,c){var d=c||100,e=this.buscarNivel(b),f=a.expLvl[d-1]||581687,g=f-b;return{expBase:Math.floor(b),expRestante:g>0?parseInt(g):581687,expFinal:parseInt(f),lvlFinal:Math.floor(d),lvlInicial:parseInt(e)}},this.levelInicial=function(a){var b=581687>a?this.buscarNivel(a):100;return parseInt(b)},this.expRestante=function(b,c){c=c||100;var d=a.expLvl[c-1]||581687;return parseInt(d-b)},this.calcularExpPorCasilla=function(b){for(var c={},d=0;d<a.expCasilla.length;d++)c[d]=Math.ceil(b/a.expCasilla[d]);return c},this.isGatheringTrue=function(b){for(var c=!1,d=0,e=a.gatherCraft.gather.length;e>d;d++)a.gatherCraft.gather[d]===b&&(c=!0);return c},this.removeBlank=function(a){for(var b in a)0===Object.keys(a[b]).length&&delete a[b];return a},this.separarNumeros=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}]),a.service("Test",["$q","$http","CalculatorService",function(a,b,c){this.ingredientsi18n={};var d=function(a){var b={};return angular.forEach(a,function(a,c){var d={desplegado:!1,limiteRecursos:0,bloqueado:!1,inutil:!1,cantidad:0,recipes:{}};angular.forEach(a,function(a,b){d.recipes[b]={calcRecipe:!1,toggleCalcRecipe:function(a,b){this.calcRecipe=!this.calcRecipe}}}),b[c]=d}),b},e=function(a){var b={1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{}};return angular.forEach(a,function(c,d){var e=a[d].recipe.slots,f=a[d].name;e&&(b[e][f]=c)}),{list:c.removeBlank(b),recipes:d(a)}},f=function(a,c){return b.get("http://dofuscalculatorsnode-milonga.rhcloud.com/api/professions/"+a.toLowerCase(),{cache:!0})};this.parse=function(b,c){var d=a.defer();return f(b,c).success(function(a){d.resolve(e(a))}),d.promise},this.getIngredients=function(c,d){var e=this,f=a.defer();e.ingredientsi18n[c.name]={};var g=function(a){return"http://dofuscalculatorsnode-milonga.rhcloud.com/api/resources/en/"+a.name.toLowerCase()},h=function(a,b){return function(g){var h=a.name,i=g.length?g[0].i18n[d]:h;e.ingredientsi18n[c.name][h]={},e.ingredientsi18n[c.name][h].value=a.value,e.ingredientsi18n[c.name][h][d]=i,b===c.recipe.ingredients.length-1,f.resolve(e.ingredientsi18n)}},i=function(a,c){b.get(g(a),{cache:!0}).success(h(a,c))};return c.recipe.ingredients.forEach(i),f.promise}}])}(),function(){"use strict";var a=angular.module("DofusExpCalculator"),b=["DbService",function(a){return{restrict:"E",scope:{profession:"="},transclude:!0,template:"<div ng-transclude></div>",controller:["$scope",function(b){b.returnLang=function(a){return a.$parent.main.lang}(b);var c=function(a){return"es"===a.returnLang?"calculadora_oficios":"professions_calculator"}(b),d=function(c){return a.i18nProfessions[c][b.returnLang].replace(/\s+/gi,"-")};b.linki18n=function(a){return b.returnLang+"/"+c+"/"+d(a)+"/"+b.profession.exp+"/"+b.profession.level},b.checked=function(a){return b.profession.name===a?!0:!1}}]}}];a.directive("profesionesLista",b),a.directive("profesion",["$location",function(a){return{controller:["$scope",function(a){a.linki18n=a.$parent.$parent.linki18n,a.returnLang=a.$parent.$parent.returnLang}],require:"^profesionesLista",restrict:"E",template:['<div title="{{pro}}" class="profession profession_{{::pro.toLowerCase()}}" ng-class="{check:checked(pro)}">','<a href="/{{ linki18n(pro) }}/" rel="Profession{{::pro}}">','<span id="icon-{{ ::pro.toLowerCase() }}">','<span class="visuallyhidden" ng-if="returnLang===\'en\'">Calculate {{::pro.replace("-"," ")}} Profession</span>','<span class="visuallyhidden" ng-if="returnLang===\'es\'">Calcular para el Oficio {{::profession.i18n[pro].es}}</span>','<span class="icon-{{::pro | lowercase}}"></span>',"</span></a></div>"].join(""),replace:!0,link:function(b,c,d){c.find("a").on("click",function(c){c.preventDefault();var d="/"+b.linki18n(b.pro);a.path(d),b.$root.$digest()})}}}]),a.directive("errorMsg",[function(){return{restrict:"E",scope:{warning:"=warning",profession:"="},templateUrl:"/views/templates/error.html"}}]),a.directive("showLevel",[function(){return{restrict:"E",scope:!0,templateUrl:"/views/templates/show_level_template.html"}}]),a.directive("professionGathering",[function(){return{restrict:"E",scope:!0,templateUrl:"/views/templates/profession_gathering.html"}}]),a.directive("slots",[function(){return{scope:{slots:"@",crafts:"=",results:"=",main:"="},transclude:!0,controller:["$scope",function(a){a.desplegado=!1}],restrict:"E",template:'<div id="Slot{{ ::slots }}" class="slots" ng-class="{ expanded: desplegado }" ng-transclude></div>',compile:function(a,b){return function(a,b,c){}}}}]),a.directive("numeroSlots",["$filter",function(a){return{restrict:"E",templateUrl:"/views/templates/slots.html",require:"^slots",replace:!0,controller:["$scope",function(b){var c=b.slots;b.toggleDesplegar=function(a){b.$parent.desplegado=!b.$parent.desplegado},b.bloqueado=b.results.blocked(b.profession.levelInicial,c),b.inutil=b.results.useless(b.profession.levelInicial,c),b.cantidad=a("number")(b.results.cantidadCrafts(c))}],link:function(a,b){b.on("click",function(b){a.toggleDesplegar(),a.$root.$digest()})}}}]),a.directive("recipeList",[function(){return{require:"^slots",restrict:"E",template:'<div class="recipeList" ng-if="$parent.desplegado" ng-transclude></div>',transclude:!0}}]),a.directive("recipeApi",[function(){return{scope:{profession:"=",receta:"="},controller:["$scope",function(a){a.showRecipe=!1}],restrict:"A"}}]),a.directive("recetas",["Test","$filter",function(a,b){return{restrict:"E",templateUrl:"/views/templates/recetas.html",require:"^slots",replace:!0,controller:["$scope",function(a){a.sinEspacios=function(a){return b("noSpace")(a)},a.calcRecipe=function(a,c){return b("number")(~~a.replace(",","")*~~c)}}]}}]);var c=function(a,b){return function(c){c.preventDefault(),a.recetaObj&&!a.showRecipe&&b.getIngredients(a.recetaObj,a.profession.lang).then(function(){a.profession.ingredientsi18n=b.ingredientsi18n}),a.showRecipe=!a.showRecipe,a.$digest()}},d=function(a){return function(b,d,e){d.on("click",c(b,a))}},e=function(a){return function(b,c){return d(a)}},f=["Test",function(a){return{restrict:"E",transclude:!0,template:'<div class="titleRecipe" ng-transclude></div>',require:"recipeApi",compile:e(a)}}];a.directive("titleRecipe",f),a.directive("listIngredients",[function(){return{restrict:"E",template:'<div class="ingredientes" ng-if="showRecipe" ng-transclude></div>',require:"recipeApi",transclude:!0}}])}(),function(){"use strict";var a=angular.module("DofusExpCalculator");a.filter("noSpace",[function(){return function(a){a&&a.replace(" ","")}}])}(),function(){"use strict";var a=angular.module("DofusExpCalculator");a.controller("MainController",["$scope","$routeParams","$location","$rootScope",function(a,b,c,d){d.main={lang:"en",section:"profession",texts:{searchIn:{en:"Search Recipes in",es:"Buscar Recetas en"},searchInput:{en:"Search Recipes",es:"Buscar Recetas"},footer:{part1:{en:"Dofus belongs to Ankama. This site is a fan creation by milo Placencia, who is not associated with Ankama in any way.",es:"Dofus pertenece a Ankama. Este sitio es una creación de un Fan (milo Placencia), el cual no esta asociado con Ankama de ninguna forma."},part2:{en:"You've got feedback? Mail me!",es:"Tienes algun tipo de Feedback? Contactame!"}},hunter:{title:{en:"Dofus Hunter &amp; Butcher Calculator",es:"Calculadora de Cazador/Carnicero Dofus"},description:{en:"Dofus Fan-site dedicated to help you mass-craft recipes for the Hunter and Butcher professions",es:"Dofus Fan-site creado como calculadora para ayudarte en la creación en masa de recetas de Carnicero/Cazador"},h2:{en:"Search Recipes for",es:"Buscar Recetas para"},hunterBar:{hb:{en:"Hunter & Butcher",es:"Cazador y Carnicero"},h:{en:"Only Hunter",es:"Sólo Cazador"},b:{en:"Only Butcher",es:"Sólo Carnicero"}},resultTable:{n:{en:"Name",es:"Nombre"},q:{en:"Quantity",es:"Cantidad"},p:{en:"Price",es:"Precio"},tprice:{en:"Total Price",es:"Precio Total"},tpods:{en:"Total Pods",es:"Pods Totales"}}},profession:{title:{en:"Dofus Profession Calculator",es:"Calculadora de Oficios/Profesiones de Dofus"},description:{en:"Dofus Fan-site dedicated to help you level up your professions, giving you calculators for recipes and materials, only with your actual experience",es:"Dofus Fan-site creado para ayudarte a subir de nivel tus Oficios en Dofus, dandote las recetas/ingredientes que necesitas para llegar a tu nivel buscado."},dataEnter:{insert:{en:"Insert your data",es:"Ingresa tus datos"},exp:{en:"Base experience",es:"Experiencia base"},lvl:{en:"Goal Level",es:"Nivel Final"}},selectPro:{en:"Select your Profession",es:"Selecciona tu Oficio/Profesión"},list:{en:"List of Recipes",es:"Lista de Recetas"},gatheringList:{title:{en:"List of Resources",es:"Lista de Recursos"},lvl:{en:"Level",es:"Nivel"},res:{en:"Resource",es:"Recurso"},exp:{en:"Experience",es:"Experiencia"}},slot:{en:"Slots",es:"Casillas"},useless:{en:"(This Recipes won't give you any exp at your level)",es:"(Estas Recetas no te dará Experiencia a tu nivel)"},blocked:{en:"(You can't craft this recipes at your level)",es:"(No puedes crear estas Recetas a tu nivel)"}}},setLang:function(a){this.lang=a}},a.is={profession:function(){return-1!==c.path().indexOf("profession")||"/"===c.path()||-1!==c.path().indexOf("oficio")},hunterButcher:function(){return-1!==c.path().indexOf("hunter")||-1!==c.path().indexOf("cazador")},ingredients:function(){return-1!==c.path().indexOf("ingredients_calculator")}}}])}(),angular.module("DofusExpCalculator").factory("HunterFactory",["$http","CalculatorService","$filter","$q",function(a,b,c,d){var e={},f="http://dofuscalculatorsnode-milonga.rhcloud.com";e.recipes={hunter:{},butcher:{},totals:{},ingredients:{}},e.profession="";var g=function(){return a.get(f+"/api/hunterIngredients",{cache:!0})},h=function(b){return a.get(f+"/api/professions/"+b,{cache:!0})},i=function(){var a={hunter:h("hunter"),butcher:h("butcher"),ingredients:g()};return d.all(a)},j=function(a){var b=e;angular.forEach(a,function(a,c){/ghost/gi.test(a.name)||(b.recipes[a.profession][a.name]={i18n:a.i18n,ingredients:{}},angular.forEach(a.recipe.ingredients,function(c){b.recipes[a.profession][a.name].ingredients[c.name]=parseInt(c.value,10)}))})},k=function(a){var b={},c=e;angular.forEach(a,function(a){b[a.name]=a}),c.recipes.ingredients=b};return e.putRecipes=function(){var a=this;i().then(function(c){if(c){var d=c.hunter.data,e=c.butcher.data,f=c.ingredients.data;j(d),j(e),k(f),a.recipes.hunter=b.removeBlank(a.recipes.hunter),a.recipes.butcher=b.removeBlank(a.recipes.butcher),a.recipes.totals=angular.extend(a.recipes.totals,a.recipes.butcher),a.recipes.totals=angular.extend(a.recipes.totals,a.recipes.hunter)}})},e.addRecipe=function(a){var b=this.recipes[this.profession][a].ingredients,c={ingredients:b,quantity:1};this.recipesToCalc[a]?this.recipesToCalc[a].quantity++:(this.recipesToCalc[a]=c,this.addIngredient(b)),this.search=""},e.addIngredient=function(a){var b=this;this.profession;angular.forEach(a,function(c,d){var e=b.ingredientsToCalc[d],f=b.recipes.ingredients[d];!e&&f?b.ingredientsToCalc[d]={quantity:parseInt(c,10)}:e&&f&&(b.ingredientsToCalc[d].quantity+=parseInt(a[d],10))})},e.delRecipe=function(a){var b=this.recipesToCalc[a];this.delIngredient(b),delete this.recipesToCalc[a]},e.delIngredient=function(a){var b=this,c=a.ingredients;angular.forEach(c,function(a,c){var d=b.ingredientsToCalc[c],e=b.recipes.ingredients[c];d&&e&&(b.ingredientsToCalc[c].quantity-=a),d&&0==d.quantity&&delete b.ingredientsToCalc[c]})},e.calculateQuantity=function(a,b){var c=this.recipesToCalc,d=0;return angular.forEach(c,function(a,c){var e=a.quantity||1;a.ingredients[b]&&(d+=a.ingredients[b]*e)}),this.ingredientsToCalc[b].totalQuantity=d,this.ingredientsToCalc[b].totalPrice=this.recipes.ingredients[b].price*d,this.ingredientsToCalc[b].totalPods=this.recipes.ingredients[b].pods*d,this.ingredientsToCalc[b]},e.getFinalStats=function(){var a=this.ingredientsToCalc,b=0,c=0;return angular.forEach(a,function(a,d){b+=a.totalPrice,c+=a.totalPods}),{price:b,pods:c}},e}]),function(){"use strict";var a=angular.module("DofusExpCalculator");a.controller("ProfessionsController",["$scope","$routeParams","CalculatorService","DbService","$rootScope",function(a,b,c,d,e){a.main=e.main,a.main.lang=b.lang||"en";var f=function(a){return d.i18nProfessions[a]?a:d.ProfessionsI18N[a]&&d.i18nProfessions[d.ProfessionsI18N[a]]?d.ProfessionsI18N[a]:!1};a.profession={ingredientsi18n:{},lang:a.main.lang,name:f(b.profession)||"",level:~~b.level||100,exp:~~b.exp||0,list:d.Professions,i18n:d.i18nProfessions,levelInicial:c.levelInicial(~~b.exp||0),expRestante:c.expRestante(~~b.exp,~~b.level)},a.profession.setLang=function(a){this.lang=a},a.profession.loadedInfo=function(){return!a.getWarning()&&!!this.name},a.getWarning=function(){return a.profession.level>a.profession.levelInicial?!1:!0},a.checked=function(b){return f(a.profession.name)===b?!0:!1}}]),a.controller("ResultsController",["$scope","$http","CalculatorService","DbService","Test",function(a,b,c,d,e){if(!a.getWarning()){a.crafts={},a.results={listaCantidades:c.calcularExpPorCasilla(a.profession.expRestante),blocked:c.blockedLevel,useless:c.isUseless,isGathering:c.isGatheringTrue(a.profession.name)};var f=e.parse(a.profession.name);f.then(function(b){a.crafts=b.list,a.results.slots=b.recipes}),a.results.cantidadCrafts=function(a){return this.listaCantidades[a-1]},a.gatheringList=d.gathering[a.profession.name],"en"!==a.main.lang&&a.results.isGathering&&d.getGathering(a.profession.name,a.main.lang)}}])}(),function(){"use strict";var a=angular.module("DofusExpCalculator");a.controller("HunterController",["$scope","$routeParams","recipes",function(a,b,c){var d=function(){return b.calculator};a.isButcher="butcher"===d()||"carnicero"===d(),a.isHunter="hunter"===d()||"cazador"===d(),a.isHunterButcher=!d()||"hunter_butcher"===d()||"cazador_carnicero"===d(),a.hunterOrButcher=function(){var a=d(),b=a.split("_");return 2===b.length?"totals":b[0]}}]),a.controller("HunterCalculatorController",["$scope","HunterFactory",function(a,b){b.profession=a.hunterOrButcher(),a.hunterButcher={search:"",language:"en",profession:a.hunterOrButcher(),recipes:b.recipes,recipesToCalc:{},ingredientsToCalc:{},isSearched:function(a){return a?-1!==a.toLowerCase().indexOf(this.search.toLowerCase()):void 0},setLang:function(a){this.language=a},setQuantityIngredient:function(a,b){return b?a*b:a},addIngredient:b.addIngredient,addRecipe:b.addRecipe,delIngredient:b.delIngredient,delRecipe:b.delRecipe,calculateQuantity:b.calculateQuantity,getFinalStats:b.getFinalStats},a.hunterButcher.nameExists=function(a){var b=this.recipes.ingredients,c=hunterButcher.language;return b[a]?b[a].i18n[c]?b[a].i18n[c]:!b[a].i18n[c]&&b[a]?b[a]:!1:!1},a.helper={},a.helper.needComa=function(a,b){var c=this.keysLength(b),d="object"==typeof this.value,e=d||a===c-1;return e?"":", "},a.helper.keysLength=function(a){return Object.keys(a).length}}])}(),function(){"use strict";angular.module("DofusExpCalculator")}(),function(){"use strict";angular.module("DofusExpCalculator").factory("IngredientsFactory",["$http","CalculatorService","$filter",function(a,b,c){}])}();